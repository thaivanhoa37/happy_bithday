<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Happy Birthday</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/home.css">
</head>

<body>
    <!-- Overlay y√™u c·∫ßu xoay ngang ƒëi·ªán tho·∫°i -->
    <div class="rotate-overlay" id="rotateOverlay">
        <div class="rotate-content">
            <div class="rotate-icon">üì±</div>
            <div class="rotate-arrow">‚Üª</div>
            <p>Vui l√≤ng xoay ngang ƒëi·ªán tho·∫°i<br>ƒë·ªÉ xem n·ªôi dung</p>
        </div>
    </div>

    <canvas id="rainCanvas"></canvas>

    <!-- Audio Element -->
    <audio id="backgroundMusic" loop preload="auto"></audio>

    <!-- Letter/Envelope Button -->
    <a href="HappyNewYeah/index.html" class="letter-btn" id="letterBtn" title="M·ªü b·ª©c th∆∞">
        <i class="fas fa-envelope"></i>
    </a>
    <script>
        // C·∫≠p nh·∫≠t link th∆∞ ƒë·ªÉ truy·ªÅn ID ph√°o hoa n·∫øu c√≥
        (function () {
            const urlParams = new URLSearchParams(window.location.search);
            const birthdayId = urlParams.get('id');
            if (birthdayId) {
                // Ki·ªÉm tra xem c√≥ firework ID li√™n k·∫øt v·ªõi birthday ID kh√¥ng
                // Ho·∫∑c d√πng c√πng ID n·∫øu ƒë√£ l∆∞u chung
                document.getElementById('letterBtn').href = 'HappyNewYeah/index.html?id=' + birthdayId;
            }
        })();
    </script>

    <!-- Music Control -->
    <div class="music-control" id="musicControl">
        <i class="fas fa-music"></i>
        <span id="musicStatus">Nh·∫°c ƒëang ph√°t</span>
    </div>

    <!-- Tap Instruction -->
    <div class="tap-instruction" id="tapInstruction">
        <i class="fas fa-hand-pointer"></i><br>
        Ch·∫°m v√†o m√†n h√¨nh ƒë·ªÉ ph√°t nh·∫°c
    </div>

    <!-- Floating Elements -->
    <div class="snowflakes" id="snowflakes"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAIR8Yor7nuBf1KB7fV3gJEnSO25L0p9Y0",
            authDomain: "happy-birthday-9cff4.firebaseapp.com",
            databaseURL: "https://happy-birthday-9cff4-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "happy-birthday-9cff4",
            storageBucket: "happy-birthday-9cff4.firebasestorage.app",
            messagingSenderId: "110574701082",
            appId: "1:110574701082:web:ca30d7244c8c8010bf5fa3"
        };
        firebase.initializeApp(firebaseConfig);
        window.db = firebase.database();
    </script>
    <script src="js/home.js"></script>
    <script src="js/home-animation.js"></script>
    <script src="js/home-effects.js"></script>
</body>

</html>